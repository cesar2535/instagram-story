{"version":3,"sources":["layouts/logo.svg","components/StoryTransformer.js","layouts/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","initialState","xy","swiping","lastEventData","undefined","start","getDirection","absX","absY","deltaX","deltaY","StoryTransformer","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleTransitionEnd","event","target","currentTarget","setState","index","processing","onChanged","_setTransientState","callback","transientState","handleTouchStart","touches","length","state","_ref","clientX","clientY","objectSpread","timeStamp","handleTouchMove","_ref2","Math","abs","time","velocity","sqrt","delta","dir","eventData","handleTouchEnd","goTo","error","onError","type","initialize","_this$state","react_default","a","createElement","Scene","Container","onTransitionEnd","renderCard","renderTransitionCard","idx","_this2","isClickable","onTouchStart","onTouchEnd","onTouchMove","Card","assign","key","CardMedia","renderMedia","ClickableLeft","onClick","list","ClickableRight","CardCover","renderCover","id","_this$props","indexOf","TypeError","n","arguments","nextIdx","isNaN","Error","concat","getIdByIndex","React","PureComponent","defaultProps","swipedDelta","styled_base_browser_esm","name","styles","_ref3","_ref4","next","previous","current","Clickable","VIDEO_LIST","charA","charB","charCodeAt","end","map","code","String","fromCharCode","range","genCharList","CoverTest","children","renderChar","char","App_CoverTest","className","MediaTest","renderVideo","url","App_MediaTest","style","width","height","src","autoPlay","muted","App","components_StoryTransformer","Boolean","window","location","hostname","match","ReactDOM","render","layouts_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e3865567.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '@emotion/styled/macro';\nimport css from '@emotion/css/macro';\n\nconst initialState = {\n  xy: [0, 0],\n  swiping: false,\n  lastEventData: undefined,\n  start: undefined\n};\n\nconst getDirection = (absX, absY, deltaX, deltaY) => {\n  if (absX > absY) {\n    if (deltaX > 0) {\n      return 'LEFT';\n    }\n    return 'RIGHT';\n  } else if (deltaY > 0) {\n    return 'UP';\n  }\n  return 'DOWN';\n};\n\nclass StoryTransformer extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.transientState = { ...initialState, type: 'class' };\n    this.initialize();\n    this.state = { index: this.index };\n  }\n\n  render() {\n    const { index, processing } = this.state;\n    return (\n      <Scene>\n        <Container\n          processing={processing}\n          onTransitionEnd={this.handleTransitionEnd}\n        >\n          {this.renderCard('current', index)}\n          {this.renderTransitionCard(processing, index)}\n        </Container>\n      </Scene>\n    );\n  }\n\n  renderCard(type, idx) {\n    const isClickable = type === 'current';\n    const props = isClickable\n      ? {\n          onTouchStart: this.handleTouchStart,\n          onTouchEnd: this.handleTouchEnd,\n          onTouchMove: this.handleTouchMove\n        }\n      : {};\n\n    return (\n      <Card {...props} key={idx} processing={type}>\n        <CardMedia>\n          {this.renderMedia(idx)}\n          {isClickable && idx > 0 && (\n            <ClickableLeft onClick={() => this.goTo(-1)} />\n          )}\n          {isClickable && idx + 1 < this.props.list.length && (\n            <ClickableRight onClick={() => this.goTo(1)} />\n          )}\n        </CardMedia>\n        <CardCover>{this.renderCover(idx)}</CardCover>\n      </Card>\n    );\n  }\n\n  renderTransitionCard(processing, idx) {\n    if (processing == null) return null;\n\n    const index = processing === 'previous' ? idx - 1 : idx + 1;\n    return this.renderCard(processing, index);\n  }\n\n  renderMedia(idx) {\n    const { list } = this.props;\n    const id = list.length > 0 ? list[idx] : this.props.id;\n    return this.props.renderMedia(id, idx, list);\n  }\n\n  renderCover(idx) {\n    const { list } = this.props;\n    const id = list.length > 0 ? list[idx] : this.props.id;\n    return this.props.renderCover(id, idx, list);\n  }\n\n  initialize() {\n    const { id, list } = this.props;\n    const idx = list.indexOf(id);\n\n    if (idx !== -1) {\n      this.index = idx;\n    }\n  }\n\n  getIdByIndex(idx) {\n    if (idx == null) return null;\n\n    const { list } = this.props;\n    const id = list[idx];\n\n    if (typeof id !== 'string') {\n      throw new TypeError('The list item must be a unique string');\n    }\n    return id;\n  }\n\n  goTo(n = 0) {\n    const nextIdx = this.index + n;\n    if (isNaN(nextIdx)) {\n      throw new TypeError('The argument of the goTo function must be a number');\n    }\n\n    if (nextIdx < 0 || nextIdx + 1 > this.props.list.length) {\n      throw new Error(`this index ${nextIdx} is out of the list.`);\n    }\n\n    this.index = nextIdx;\n    this.id = this.getIdByIndex(this.index);\n\n    if (n > 0) {\n      this.processing = 'next';\n    } else if (n < 0) {\n      this.processing = 'previous';\n    } else {\n      this.processing = null;\n    }\n\n    this.setState({ processing: this.processing });\n  }\n\n  handleTransitionEnd = event => {\n    if (event.target !== event.currentTarget) {\n      return false;\n    }\n\n    this.setState({ index: this.index, processing: null });\n    this.props.onChanged(this.index);\n  };\n\n  _setTransientState = callback =>\n    (this.transientState = callback(this.transientState, this.props));\n\n  handleTouchStart = event => {\n    if (event.touches && event.touches.length > 1) return;\n\n    this._setTransientState(state => {\n      const { clientX, clientY } = event.touches ? event.touches[0] : event;\n      return {\n        ...state,\n        ...initialState,\n        xy: [clientX, clientY],\n        start: event.timeStamp || 0\n      };\n    });\n  };\n  handleTouchMove = event => {\n    this._setTransientState((state, props) => {\n      if (\n        !state.xy[0] ||\n        !state.xy[1] ||\n        (event.touches && event.touches.length > 1)\n      ) {\n        return state;\n      }\n\n      const { clientX, clientY } = event.touches ? event.touches[0] : event;\n      const deltaX = state.xy[0] - clientX;\n      const deltaY = state.xy[1] - clientY;\n      const absX = Math.abs(deltaX);\n      const absY = Math.abs(deltaY);\n      const time = (event.timeStamp || 0) - state.start;\n      const velocity = Math.sqrt(absX * absX + absY * absY) / (time || 1);\n\n      if (absX < props.delta && absY < props.delta && !state.swiping)\n        return state;\n\n      const dir = getDirection(absX, absY, deltaX, deltaY);\n      const eventData = { event, absX, absY, deltaX, deltaY, velocity, dir };\n\n      return { ...state, lastEventData: eventData, swiping: true };\n    });\n  };\n  handleTouchEnd = event => {\n    this._setTransientState((state, props) => {\n      if (state.swiping) {\n        const eventData = { ...state.lastEventData, event };\n\n        if (eventData.velocity > 0.5) {\n          try {\n            if (eventData.dir === 'RIGHT') {\n              this.goTo(-1);\n            } else if (eventData.dir === 'LEFT') {\n              this.goTo(1);\n            }\n          } catch (error) {\n            this.props.onError(error);\n          }\n        }\n      }\n\n      return { ...state, ...initialState };\n    });\n  };\n}\n\nStoryTransformer.propTypes = {\n  list: PropTypes.arrayOf(PropTypes.string),\n  swipedDelta: PropTypes.number,\n  renderMedia: PropTypes.func,\n  renderCover: PropTypes.func,\n  onChanged: PropTypes.func,\n  onError: PropTypes.func\n};\n\nStoryTransformer.defaultProps = {\n  list: [],\n  swipedDelta: 10,\n  renderMedia: () => null,\n  renderCover: () => null,\n  onChanged: () => null,\n  onError: () => null\n};\n\nconst Scene = styled.div`\n  width: 100%;\n  height: 100%;\n  perspective: 1000px;\n  perspective-origin: 50% 50%;\n`;\n\nconst Container = styled.div`\n  position: relative;\n  height: 100%;\n  transform-style: preserve-3d;\n  will-change: transform;\n\n  ${({ processing }) =>\n    processing === 'next'\n      ? `\n        transform: translateZ(-50vw) rotateY(-90deg);\n        transition: transform 350ms;\n      `\n      : processing === 'previous'\n      ? `\n        transform: translateZ(-50vw) rotateY(90deg);\n        transition: transform 350ms;\n      `\n      : 'transform: translateZ(-50vw)'};\n`;\n\nconst Card = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  backface-visibility: hidden;\n\n  ${({ processing }) =>\n    processing === 'next'\n      ? next\n      : processing === 'previous'\n      ? previous\n      : current};\n`;\n\nconst current = css`\n  transform: translateZ(50vw);\n`;\nconst next = css`\n  transform: rotateY(90deg) translateX(50%);\n  transform-origin: top right;\n`;\nconst previous = css`\n  transform: rotateY(-90deg) translateX(-50%);\n  transform-origin: center left;\n`;\n\nconst CardMedia = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nconst CardCover = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n`;\n\nconst Clickable = styled.button`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: 0;\n  border: 0;\n  padding: 0;\n  height: 100%;\n  background: none;\n  outline: 0;\n`;\nconst ClickableLeft = styled(Clickable)`\n  left: 0;\n  width: 25%;\n\n  &:active {\n    background: linear-gradient(\n      to right,\n      rgba(0, 0, 0, 0.25),\n      rgba(0, 0, 0, 0) 75%\n    );\n  }\n`;\nconst ClickableRight = styled(Clickable)`\n  right: 0;\n  width: 75%;\n`;\n\nexport default StoryTransformer;\n","import React from 'react';\nimport { map, range } from 'ramda';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport StoryTransformer from '../components/StoryTransformer';\n\nconst genCharList = (charA, charB) => {\n  const start = charA.charCodeAt(charA);\n  const end = charB.charCodeAt(charB) + 1;\n  return map(code => String.fromCharCode(code), range(start, end));\n};\nconst LIST = genCharList('a', 'z');\nconst VIDEO_LIST = [\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4',\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4',\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4',\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4',\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4',\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4',\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4',\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/SubaruOutbackOnStreetAndDirt.mp4',\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4',\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/VolkswagenGTIReview.mp4',\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/WeAreGoingOnBullrun.mp4',\n  'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/WhatCarCanYouGetForAGrand.mp4'\n];\n\nclass CoverTest extends React.PureComponent {\n  componentDidMount() {}\n\n  render() {\n    return this.props.children;\n  }\n}\n\nfunction renderChar(char) {\n  return (\n    <CoverTest>\n      <div className=\"App-character\">{char}</div>;\n    </CoverTest>\n  );\n}\n\nclass MediaTest extends React.PureComponent {\n  componentDidMount() {}\n\n  render() {\n    return this.props.children;\n  }\n}\n\nfunction renderVideo(url) {\n  return (\n    <MediaTest>\n      <video\n        className=\"App-video\"\n        style={{ width: '100%', height: '100%' }}\n        src={url}\n        autoPlay\n        muted\n      />\n    </MediaTest>\n  );\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <StoryTransformer\n          id={VIDEO_LIST[0]}\n          list={VIDEO_LIST}\n          renderCover={renderChar}\n          renderMedia={renderVideo}\n        />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './layouts/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}